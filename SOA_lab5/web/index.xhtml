<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
   <h:head><title>Książki</title></h:head>
<h:body>
<div style="text-align: center;">
   <h1>Dodaj książkę</h1>
   <h:form>
      Title: <br/>
      <h:inputText binding="#{title}"/> <br/>
      Author: <br/>
      <h:inputText binding="#{author}"/> <br/>
      Price: <br/>
      <h:inputText binding="#{price}"/> <br/>
      <h:commandButton value="Add" action="#{BooksManager.addBook(title.value,author.value,price.value)}"/>
   </h:form>
   <h:form id="table">
      <h:dataTable id="table_1" value="#{BooksManager.books}" var="b">

      <h:column>
         <f:facet name="header">Title</f:facet>
         #{b.title}
      </h:column>
      <h:column>
         <f:facet name="header">Author</f:facet>
         #{b.author}
      </h:column>
      <h:column>
         <f:facet name="header">Price</f:facet>
         #{b.price}
      </h:column>
      <h:column>
         <h:commandButton value="delete" update="@form" actionListener="#{BooksManager.deleteBook(b)}"/>
      </h:column>
      <h:column>
         <h:commandButton value="update" action="update">
            <f:param name="book" value="#{b}" />
            <f:param name="id" value="#{b.id}" />
            <f:param name="title" value="#{b.title}" />
            <f:param name="author" value="#{b.author}" />
            <f:param name="price" value="#{b.price}" />
         </h:commandButton>
      </h:column>


      </h:dataTable>
   </h:form>
   <br/><br/>

</div>
</h:body>
</html>
